/* New UI theme and components */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; line-height: 1.5; }

/* Utility: spinner and toast reused in new UI */
.spinner {
  width: 22px; height: 22px; border-radius: 50%; border: 3px solid rgba(255,255,255,0.12); border-top-color: #06b6d4;
  animation: spin 1s linear infinite; margin-right: 8px; display: inline-block;
}
@keyframes spin { to { transform: rotate(360deg); } }

.toast { opacity: 0; pointer-events: none; transition: opacity .2s ease; position: fixed; bottom: 16px; left: 50%; transform: translateX(-50%); background: var(--background); border: 1px solid var(--border-subtle); color: var(--text-primary); padding: 8px 12px; border-radius: 10px; z-index: 60; }
.toast.show { opacity: 1; }

.modal { border: 0; padding: 0; background: transparent; }
.modal::backdrop { background: rgba(0,0,0,0.55); backdrop-filter: blur(2px); }

/* -------------------------------------------------------
   THEME FROM SPEC (Satoshi + Geist, dark/light, layout)
   ----------------------------------------------------- */

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Light.woff') format('woff');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-LightItalic.woff') format('woff');
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Italic.woff') format('woff');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Medium.woff') format('woff');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-MediumItalic.woff') format('woff');
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Bold.woff') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-BoldItalic.woff') format('woff');
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Black.woff') format('woff');
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-BlackItalic.woff') format('woff');
  font-weight: 900;
  font-style: italic;
  font-display: swap;
}

@import url('https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap');

/* selection */
::-moz-selection { background: var(--border-color); }
::selection { background: var(--border-color); }

.profile-name,
.profile-bio,
.about-content,
.popup-title,
.popup-description,
.popup-details,
.project-link,
.project-title,
.contact-text,
.footer-form input,
.footer-form textarea,
.footer-form-submit { font-family: var(--font-satoshi); }

:root {
  --background: #141414;
  --foreground: #ebebeb;
  --kbd-background: #222;
  --text-primary: #d4d4d8;
  --text-secondary: #737373;
  --border-color: #404040;
  --border-subtle: #262626;
  --hover-bg: rgba(64, 64, 64, 0.2);
  --font-geist-sans: "geistSans", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
  --font-geist-mono: "Geist Mono", monospace;
  --font-satoshi: "Satoshi", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
  --transition-time: .2s;
  --transition-ease: ease;
}

[data-theme="light"] {
  --background: #f5f5f5;
  --foreground: #171717;
  --text-primary: #171717;
  --text-secondary: #525252;
  --border-color: #d4d4d4;
  --border-subtle: #e5e5e5;
  --kbd-background: #d4d4d4;
  --hover-bg: rgba(0, 0, 0, 0.05);
}

.geist-mono-font { font-family: "Geist Mono", monospace; font-optical-sizing: auto; font-weight: 300; font-style: normal; }

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

/* Scrollbars */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--background); border-radius: 3px; }
::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 3px; transition: background-color 0.3s ease; }
::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }
* { scrollbar-width: thin; scrollbar-color: var(--border-color) var(--hover-bg); }

.scrollable-content::-webkit-scrollbar { width: 6px; }
.scrollable-content::-webkit-scrollbar-track { background: var(--hover-bg); border-radius: 3px; }
.scrollable-content::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 3px; }
.scrollable-content::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

[data-theme="dark"] ::-webkit-scrollbar-track { background: var(--hover-bg); }
[data-theme="dark"] ::-webkit-scrollbar-thumb { background: var(--border-color); }
[data-theme="dark"] ::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

[data-theme="light"] ::-webkit-scrollbar-track { background: var(--hover-bg); }
[data-theme="light"] ::-webkit-scrollbar-thumb { background: var(--border-color); }
[data-theme="light"] ::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

body { background-color: var(--background); color: var(--foreground); font-family: var(--font-geist-sans); margin: 0; padding: 0; line-height: 1.5; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
a { color: inherit; text-decoration: none; }

/* Layout */
.container { max-width: 68rem; margin: 0 auto; padding-top: 3rem; position: relative; min-height: 100vh; padding-left: 1rem; padding-right: 1rem; }
@media (min-width: 640px) { .container { padding-top: 4rem; } }

.header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 0; width: 100%; font-size: 0.875rem; font-family: var(--font-geist-mono); color: #525252; }
.header-right { display: flex; align-items: center; gap: 0.45rem; }

.location { display: flex; align-items: center; gap: 8px; color: var(--text-secondary); font-family: var(--font-geist-mono); }

.clock { display: flex; align-items: center; position: relative; white-space: nowrap; gap: 8px; }
.clock-time { margin-right: 0.5rem; z-index: 10; }
.hover-bg { position: absolute; inset: -0.25rem; scale: 0.75; opacity: 0; min-width: 100%; min-height: 100%; border-radius: 0.75rem; background-color: #40404033; transition: all 0.15s; }

.hero { display: grid; place-items: center; gap: 16px; padding: 24px 0 12px; }
.hero-icon { width: 42px; height: 42px; opacity: .85; }
.hero-title { font-size: 2.2rem; font-weight: 600; color: var(--text-primary); letter-spacing: -0.02em; }

/* Input Bar */
.message-bar { display: grid; grid-template-columns: 1fr auto; gap: 10px; width: 100%; max-width: 48rem; margin: 8px auto 0; }
.message-input { height: 58px; width: 100%; border-radius: 12px; border: 1px solid var(--border-color); background-color: transparent; color: var(--text-primary); padding: 0 44px 0 14px; font-family: var(--font-satoshi); font-size: 15px; outline: none; }
.input-affordance { position: relative; }
.voice-btn { position: absolute; right: 6px; top: 50%; transform: translateY(-50%); width: 36px; height: 36px; display: grid; place-items: center; border-radius: 8px; color: var(--text-secondary); border: 1px solid var(--border-color); background: transparent; cursor: pointer; transition: all .15s ease; }
.voice-btn:hover { background: var(--hover-bg); color: var(--text-primary); }
.submit-btn { height: 58px; border-radius: 12px; border: 1px solid var(--border-color); background: transparent; color: var(--text-primary); font-family: var(--font-geist-mono); padding: 0 16px; cursor: pointer; transition: all .15s ease; }
.submit-btn:hover { background: var(--hover-bg); }

/* Quick actions */
.quick-actions { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; margin: 14px auto 0; }
.quick-action { display: inline-flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 8px; background: transparent; border: 1px solid var(--border-color); color: var(--text-secondary); cursor: pointer; transition: all .15s ease; font-family: var(--font-geist-sans); font-size: 12px; }
.quick-action:hover { background: var(--hover-bg); color: var(--text-primary); transform: translateY(-2px); }

.hint { margin-top: 10px; text-align: center; color: var(--text-secondary); font-size: 12px; }

/* Results */
.card { border: 1px solid var(--border-subtle); background: rgba(23,23,23,0.6); border-radius: 12px; overflow: hidden; }
[data-theme="light"] .card { background: #fff; }
.card-body { padding: 16px; }
.sources-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(72px, 1fr)); gap: 8px; }
.source-tile { display: grid; place-items: center; gap: 8px; border: 1px solid var(--border-subtle); border-radius: 10px; padding: 10px; color: var(--text-primary); text-decoration: none; }
.source-tile:hover { background: var(--hover-bg); }
.source-host { max-width: 120px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: var(--text-secondary); font-size: 12px; }

/* Theme switch */
.theme-switch { display: flex; align-items: center; justify-content: center; width: 2rem; height: 2rem; border-radius: 0.375rem; border: 1px solid var(--background); background-color: transparent; color: var(--text-secondary); cursor: pointer; transition: all 0.15s ease; position: relative; overflow: hidden; }
.theme-switch:hover { background-color: var(--hover-bg); }
.theme-icon { width: 1.15rem; height: 1.15rem; stroke: currentColor; fill: none; }

/* Spotlight trigger button */
.spotlight-trigger { display: flex; align-items: center; gap: 8px; background-color: transparent; border: none; border-radius: 6px; color: var(--text-secondary); font-family: var(--font-geist-sans); font-size: 12px; padding: 6px 12px; cursor: pointer; transition: all 0.15s ease; }
.spotlight-trigger:hover { background-color: var(--hover-bg); color: var(--text-primary); }
.spotlight-trigger-shortcut { display: flex; align-items: center; gap: 2px; margin-left: 4px; }
.spotlight-trigger-shortcut kbd { font-family: var(--font-geist-mono); font-size: 10px; padding: 1px 4px; border-radius: 3px; background: var(--kbd-background); color: var(--text-secondary); border: 1px solid var(--border-subtle); }

/* Spotlight (command palette) */
.spotlight-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1100; display: none; }
.spotlight-backdrop { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
[data-theme="light"] .spotlight-backdrop { background-color: rgba(0,0,0,0.2); }
.spotlight-modal { position: absolute; top: 20%; left: 50%; transform: translateX(-50%); width: 600px; max-width: 90%; background-color: var(--background); border-radius: 12px; border: 1px solid var(--border-subtle); overflow: hidden; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); opacity: 0; transform: translateX(-50%) translateY(-10px); transition: opacity 0.2s ease, transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
.spotlight-container.active .spotlight-modal { opacity: 1; transform: translateX(-50%) translateY(0); }
.spotlight-search-bar { display: flex; align-items: center; padding: 12px 16px; border-bottom: 1px solid var(--border-subtle); }
.spotlight-search-icon { color: var(--text-secondary); margin-right: 12px; display: flex; align-items: center; }
#spotlight-input { flex: 1; border: none; background: transparent; color: var(--text-primary); font-family: var(--font-geist-sans); font-size: 14px; padding: 8px 0; outline: none; }
#spotlight-input::placeholder { color: var(--text-secondary); opacity: 0.7; }
.spotlight-results { max-height: 400px; overflow-y: auto; scrollbar-width: none; -ms-overflow-style: none; }
.spotlight-section { padding: 8px 0; }
.spotlight-section-header { font-family: var(--font-geist-mono); font-size: 12px; color: var(--text-secondary); padding: 8px 16px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
.spotlight-result-item { display: flex; align-items: center; padding: 8px 16px; cursor: pointer; transition: background-color 0.15s ease; opacity: 0; animation: fadeIn 0.2s ease forwards; }
.spotlight-result-item:hover, .spotlight-result-item.selected { background-color: var(--hover-bg); }
.spotlight-result-icon { display: flex; align-items: center; justify-content: center; width: 24px; height: 24px; margin-right: 12px; color: var(--text-secondary); }
.spotlight-result-content { flex: 1; }
.spotlight-result-title { font-family: var(--font-satoshi); font-size: 14px; color: var(--text-primary); font-weight: 500; }
.spotlight-result-description { font-family: var(--font-geist-mono); font-size: 12px; color: var(--text-secondary); margin-top: 2px; }
.spotlight-no-results { padding: 16px; font-family: var(--font-geist-sans); font-size: 14px; color: var(--text-secondary); text-align: center; }
.spotlight-results::-webkit-scrollbar { display: none; }

/* Keybinds modal */
.keybinds-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1100; display: none; }
.keybinds-backdrop { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
[data-theme="light"] .keybinds-backdrop { background-color: rgba(0,0,0,0.2); }
.keybinds-modal { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9); width: 550px; max-width: 90%; max-height: 90vh; background-color: var(--background); border-radius: 12px; border: 1px solid var(--border-subtle); overflow: hidden; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); opacity: 0; transition: opacity 0.2s ease, transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); display: flex; flex-direction: column; }
.keybinds-container.active .keybinds-modal { opacity: 1; transform: translate(-50%, -50%) scale(1); }
.keybinds-header { display: flex; justify-content: space-between; align-items: center; padding: 16px; border-bottom: 1px solid var(--border-subtle); }
.keybinds-title { font-family: var(--font-satoshi); font-size: 16px; font-weight: 600; color: var(--text-primary); }
.keybinds-close { background: transparent; border: none; padding: 4px; margin: -4px; color: var(--text-secondary); cursor: pointer; border-radius: 4px; transition: background-color 0.15s ease, color 0.15s ease; display: flex; align-items: center; justify-content: center; }
.keybinds-close:hover { background-color: var(--hover-bg); color: var(--text-primary); }
.keybinds-content { padding: 16px; overflow-y: auto; scrollbar-width: none; -ms-overflow-style: none; flex: 1; }
.keybinds-content::-webkit-scrollbar { display: none; }
.keybinds-section { margin-bottom: 24px; }
.keybinds-section-title { font-family: var(--font-geist-mono); font-size: 12px; font-weight: 600; color: var(--text-secondary); margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
.keybind-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; opacity: 0; animation: fadeIn 0.2s ease forwards; }
.keybind-description { font-family: var(--font-satoshi); font-size: 14px; color: var(--text-primary); }
.keybind-combo { display: flex; align-items: center; gap: 4px; }
.keybind-combo kbd { display: inline-flex; align-items: center; justify-content: center; min-width: 22px; height: 22px; padding: 0 6px; font-family: var(--font-geist-mono); font-size: 12px; font-weight: 500; border-radius: 4px; background-color: var(--kbd-background); color: var(--text-primary); border: 1px solid var(--border-color); box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2); }
.keybind-combo span { color: var(--text-secondary); font-size: 12px; font-family: var(--font-geist-mono); }

.keybinds-trigger { display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; background-color: transparent; border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-secondary); cursor: pointer; transition: all 0.15s ease; position: fixed; bottom: 20px; right: 20px; z-index: 90; }
.keybinds-trigger:hover { background-color: var(--hover-bg); color: var(--text-primary); transform: translateY(-2px); }
.keybinds-trigger svg { width: 16px; height: 16px; }

/* Availability badge */
.availability-badge { position: relative; display: inline-flex; align-items: center; justify-content: center; width: 10px; height: 10px; margin-left: 6px; }
.availability-badge .dot { width: 7px; height: 7px; border-radius: 50%; }
.availability-tooltip { position: absolute; top: calc(100% + 8px); right: 0; background-color: var(--background); border: 1px solid var(--border-subtle); color: var(--text-primary); font-family: var(--font-geist-mono); font-size: 0.65rem; padding: 4px 6px; border-radius: 4px; white-space: nowrap; opacity: 0; transform: translateY(-4px); transition: opacity 0.15s ease, transform 0.15s ease; pointer-events: none; box-shadow: 0 4px 10px rgba(0,0,0,0.15); }
.availability-badge:hover .availability-tooltip { opacity: 1; transform: translateY(0); }
.status-dot--available { background-color: #22c55e; animation: dotPulseGreen 2s ease-in-out infinite; }
.status-dot--employed  { background-color: #f59e0b; animation: dotPulseAmber 2s ease-in-out infinite; }
@keyframes dotPulseGreen { 0%, 100% { box-shadow: 0 0 5px rgba(34,197,94,0.6), 0 0 0 0 rgba(34,197,94,0.18); } 50% { box-shadow: 0 0 8px rgba(34,197,94,0.9), 0 0 0 5px rgba(34,197,94,0.10); } }
@keyframes dotPulseAmber { 0%, 100% { box-shadow: 0 0 5px rgba(245,158,11,0.6), 0 0 0 0 rgba(245,158,11,0.18); } 50% { box-shadow: 0 0 8px rgba(245,158,11,0.9), 0 0 0 5px rgba(245,158,11,0.10); } }

/* Animations */
@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
