/* New UI theme and components */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; line-height: 1.5; }

/* Utility: spinner and toast reused in new UI */
.spinner {
  width: 22px; height: 22px; border-radius: 50%; border: 3px solid rgba(255,255,255,0.12); border-top-color: #06b6d4;
  animation: spin 1s linear infinite; margin-right: 8px; display: inline-block;
}
/* Small inline spinner for header */
.spinner--sm { width: 14px; height: 14px; border-width: 2px; margin: 0 0 0 8px; display: inline-block; }
@keyframes spin { to { transform: rotate(360deg); } }

.toast { opacity: 0; pointer-events: none; transition: opacity .2s ease; position: fixed; bottom: 16px; left: 50%; transform: translateX(-50%); background: var(--background); border: 1px solid var(--border-subtle); color: var(--text-primary); padding: 8px 12px; border-radius: 10px; z-index: 60; }
.toast.show { opacity: 1; }

.modal { border: 0; padding: 0; background: transparent; }
.modal::backdrop { background: rgba(0,0,0,0.55); backdrop-filter: blur(2px); }

/* -------------------------------------------------------
   THEME FROM SPEC (Satoshi + Geist, dark/light, layout)
   ----------------------------------------------------- */

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Light.woff') format('woff');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-LightItalic.woff') format('woff');
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Italic.woff') format('woff');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Medium.woff') format('woff');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-MediumItalic.woff') format('woff');
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Bold.woff') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-BoldItalic.woff') format('woff');
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-Black.woff') format('woff');
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Satoshi';
  src: url('fonts/Satoshi-BlackItalic.woff') format('woff');
  font-weight: 900;
  font-style: italic;
  font-display: swap;
}

@import url('https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap');

/* selection */
::-moz-selection { background: var(--border-color); }
::selection { background: var(--border-color); }

.profile-name,
.profile-bio,
.about-content,
.popup-title,
.popup-description,
.popup-details,
.project-link,
.project-title,
.contact-text,
.footer-form input,
.footer-form textarea,
.footer-form-submit { font-family: var(--font-satoshi); }

:root {
  --background: #141414;
  --foreground: #ebebeb;
  --kbd-background: #222;
  --text-primary: #d4d4d8;
  --text-secondary: #737373;
  --border-color: #404040;
  --border-subtle: #262626;
  --hover-bg: rgba(64, 64, 64, 0.2);
  --font-geist-sans: "geistSans", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
  --font-geist-mono: "Geist Mono", monospace;
  --font-satoshi: "Satoshi", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
  --transition-time: .2s;
  --transition-ease: ease;
}

[data-theme="light"] {
  --background: #f5f5f5;
  --foreground: #171717;
  --text-primary: #171717;
  --text-secondary: #525252;
  --border-color: #d4d4d4;
  --border-subtle: #e5e5e5;
  --kbd-background: #d4d4d4;
  --hover-bg: rgba(0, 0, 0, 0.05);
}

.geist-mono-font { font-family: "Geist Mono", monospace; font-optical-sizing: auto; font-weight: 300; font-style: normal; }

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

/* Header sizing vars */
:root { --header-h: 56px; }
@media (min-width: 640px) { :root { --header-h: 68px; } }

/* Scrollbars */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 6px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }
* { scrollbar-width: thin; scrollbar-color: var(--border-color) transparent; }

.scrollable-content::-webkit-scrollbar { width: 6px; }
.scrollable-content::-webkit-scrollbar-track { background: var(--hover-bg); border-radius: 3px; }
.scrollable-content::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 3px; }
.scrollable-content::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

[data-theme="dark"] ::-webkit-scrollbar-track { background: var(--hover-bg); }
[data-theme="dark"] ::-webkit-scrollbar-thumb { background: var(--border-color); }
[data-theme="dark"] ::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

[data-theme="light"] ::-webkit-scrollbar-track { background: var(--hover-bg); }
[data-theme="light"] ::-webkit-scrollbar-thumb { background: var(--border-color); }
[data-theme="light"] ::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

body { background-color: var(--background); color: var(--foreground); font-family: var(--font-geist-sans); margin: 0; padding: 0; line-height: 1.5; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; overflow-y: hidden; }
body.chat-active { overflow-y: auto; }
a { color: inherit; text-decoration: none; }

/* Layout */
.container { max-width: 68rem; margin: 0 auto; padding-top: calc(var(--header-h) + 8px); position: relative; min-height: 100dvh; padding-left: 1rem; padding-right: 1rem; }
@media (min-width: 640px) { .container { padding-top: calc(var(--header-h) + 12px); } }

.header { position: fixed; top: 0; left: 0; right: 0; z-index: 50; display: flex; justify-content: space-between; align-items: center; height: var(--header-h); padding: 0 .75rem; width: 100%; font-size: 0.875rem; font-family: var(--font-geist-mono); color: #525252; background: var(--background); }
.header-right { display: flex; align-items: center; gap: 0.3rem; }

/* Small screen header tightening */
@media (max-width: 480px) {
  .header { font-size: 0.8rem; padding: 0 .5rem; }
  .header-right { gap: 4px; }
  .spotlight-trigger { padding: 6px; }
  .spotlight-trigger span { display: none; }
  .theme-switch { width: 28px; height: 28px; }
  .clock-time { font-size: 0.9rem; }
}

.location { display: flex; align-items: center; gap: 8px; color: var(--text-secondary); font-family: var(--font-geist-mono); }

.clock { display: flex; align-items: center; position: relative; white-space: nowrap; gap: 8px; }
.clock-time { margin-right: 0.5rem; z-index: 10; font-family: var(--font-geist-sans); }
.hover-bg { position: absolute; inset: -0.25rem; scale: 0.75; opacity: 0; min-width: 100%; min-height: 100%; border-radius: 0.75rem; background-color: #40404033; transition: all 0.15s; }

.hero { display: grid; place-items: center; gap: 16px; padding: 0; }
.hero-icon { width: 42px; height: 42px; opacity: .85; }
.hero-title { font-size: 2.2rem; font-weight: 600; color: var(--text-primary); letter-spacing: -0.02em; }

/* Center landing stack */
.landing { display: grid; grid-auto-rows: max-content; gap: 18px; align-content: center; justify-items: center; min-height: calc(100dvh - var(--header-h) - 140px); }

/* Keep input visible in chat; hide only hero and quick bits handled below */

/* Input Bar */
.message-bar { display: grid; grid-template-columns: 1fr; gap: 10px; width: 100%; max-width: 48rem; margin: 8px auto 0; }
.message-input { min-height: 100px; max-height: 120px; width: 100%; border-radius: 12px; border: 1px solid var(--border-color); background-color: rgba(255,255,255,0.06); color: var(--text-primary); padding: 10px 48px 62px 10px; font-family: var(--font-satoshi); font-size: 15px; outline: none; resize: none; overflow: auto; line-height: 1.35; }
.input-affordance { position: relative; }
.input-tray { position: absolute; left: 6px; right: 6px; bottom: 12px; display: flex; align-items: center; justify-content: space-between; gap: 6px; }
.input-tray-left { display: flex; align-items: center; gap: 6px; }
.input-actions { position: relative; display: flex; gap: 6px; }
.voice-btn, .submit-btn { width: 28px; height: 28px; display: grid; place-items: center; border-radius: 8px; color: var(--text-secondary); border: none; background: transparent; cursor: pointer; transition: all .15s ease; }
.voice-btn:hover, .submit-btn:hover { background: var(--hover-bg); color: var(--text-primary); }
/* Attach button inside input (left) */
.attach-btn { width: 28px; height: 28px; display: grid; place-items: center; border-radius: 8px; color: var(--text-secondary); border: none; background: transparent; cursor: pointer; transition: all .15s ease; position: relative; }
.attach-btn:hover { background: var(--hover-bg); color: var(--text-primary); }
.attach-badge { position: absolute; right: -6px; top: -6px; height: 14px; min-width: 14px; padding: 0 3px; border-radius: 7px; background: #10b981; color: #0b0b0b; font-size: 9px; font-weight: 700; display: inline-flex; align-items: center; justify-content: center; border: 1px solid var(--border-color); }

/* Position submit button to bottom-right inside input */
.input-tray-right { margin-left: auto; }

/* Chat-active layout: keep input at bottom; do NOT hide the input form */
.chat-active .landing { display: contents; }
.chat-active .hero,
.chat-active .quick-actions,
.chat-active .hint { display: none; }
.chat-active .container { padding-bottom: 110px; }
.results { padding-top: 0; display: grid; gap: 12px; }
.chat-active .message-bar { position: fixed; left: 50%; transform: translateX(-50%); bottom: 16px; width: 100%; max-width: 52rem; margin: 0; z-index: 80; background: transparent; }

/* Ensure results anchor to top under header */
.results { align-content: start; }

/* Results header with query and sources */
.results-header { display: grid; gap: 12px; }
.result-query { display: inline-flex; align-items: center; gap: 8px; }
.result-query { font-size: 1.5rem; font-weight: 600; color: var(--text-primary); letter-spacing: -0.01em; }
.results-subgrid { display: grid; gap: 10px; }

/* Answer actions and related */
.answer-actions { display: flex; justify-content: space-between; align-items: center; gap: 10px; margin-top: 12px; }
.copy-btn { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 8px; border: 1px solid var(--border-color); background: transparent; color: var(--text-secondary); cursor: pointer; transition: all .15s ease; }
.copy-btn:hover { background: var(--hover-bg); color: var(--text-primary); }
.related { display: grid; gap: 6px; }
.related-title { font-size: .9rem; color: var(--text-secondary); font-weight: 600; text-transform: none; }
.related-list { display: grid; gap: 6px; }
.related-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; border-radius: 8px; border: 1px solid var(--border-subtle); color: var(--text-primary); cursor: pointer; transition: background-color .15s ease; }
.related-item:hover { background: var(--hover-bg); }
.related-item .plus { opacity: .8; }

/* Image carousel */
.image-carousel { position: relative; }
.image-track { display: grid; grid-auto-flow: column; grid-auto-columns: 160px; gap: 10px; overflow-x: auto; padding: 2px; }
.image-track a { display: block; border-radius: 10px; overflow: hidden; border: 1px solid var(--border-subtle); background: rgba(23,23,23,0.5); }
[data-theme="light"] .image-track a { background: #fff; }
.image-track img { width: 160px; height: 100px; object-fit: cover; display: block; }
.image-nav { position: absolute; top: 50%; transform: translateY(-50%); width: 26px; height: 26px; border-radius: 50%; border: 1px solid var(--border-color); background: var(--background); color: var(--text-primary); cursor: pointer; display: grid; place-items: center; }
.image-nav.left { left: -6px; }
.image-nav.right { right: -6px; }

/* Sources carousel */
.source-carousel { position: relative; margin-top: 8px; }
.source-track { display: grid; grid-auto-flow: column; grid-auto-columns: 220px; gap: 10px; overflow-x: auto; }
.source-tile2 { display: grid; gap: 6px; border-radius: 12px; border: 1px solid var(--border-subtle); padding: 10px; color: var(--text-primary); text-decoration: none; background: rgba(23,23,23,0.5); }
[data-theme="light"] .source-tile2 { background: #fff; }
.source-head { display: flex; align-items: center; gap: 8px; }
.source-head img { width: 18px; height: 18px; border-radius: 4px; }
.source-host2 { font-size: 12px; color: var(--text-secondary); }
.source-title2 { font-size: 13px; color: var(--text-primary); line-height: 1.3; }

/* Searching overlay */
.searching-overlay { position: fixed; inset: 0; display: none; place-items: center; background: rgba(0,0,0,0.25); backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px); z-index: 1200; }
.searching-overlay.active { display: grid; }
.banter-loader { position: relative; width: 72px; height: 72px; }
.banter-loader__box { float: left; position: relative; width: 20px; height: 20px; margin-right: 6px; }
.banter-loader__box:before { content: ""; position: absolute; left: 0; top: 0; width: 100%; height: 100%; background: var(--foreground); border-radius: 4px; }
.banter-loader__box:nth-child(3n) { margin-right: 0; margin-bottom: 6px; }
.banter-loader__box:nth-child(1):before, .banter-loader__box:nth-child(4):before { margin-left: 26px; }
.banter-loader__box:nth-child(3):before { margin-top: 52px; }
.banter-loader__box:last-child { margin-bottom: 0; }
@keyframes moveBox-1 { 9.0909% { transform: translate(-26px,0);} 18.1818% { transform: translate(0,0);} 27.2727% { transform: translate(0,0);} 36.3636% { transform: translate(26px,0);} 45.4545% { transform: translate(26px,26px);} 72.7272% { transform: translate(26px,0);} 90.909% { transform: translate(-26px,0);} 100% { transform: translate(0,0);} }
.banter-loader__box:nth-child(1) { animation: moveBox-1 4s infinite; }
@keyframes moveBox-2 { 18.1818% { transform: translate(26px,0);} 45.4545% { transform: translate(26px,26px);} 81.8181% { transform: translate(0,26px);} 100% { transform: translate(0,0);} }
.banter-loader__box:nth-child(2) { animation: moveBox-2 4s infinite; }
@keyframes moveBox-3 { 27.2727% { transform: translate(0,0);} 81.8181% { transform: translate(-26px,-26px);} 90.909% { transform: translate(0,-26px);} 100% { transform: translate(0,0);} }
.banter-loader__box:nth-child(3) { animation: moveBox-3 4s infinite; }
@keyframes moveBox-4 { 27.2727% { transform: translate(-26px,-26px);} 36.3636% { transform: translate(0,-26px);} 54.5454% { transform: translate(0,-26px);} 90.909% { transform: translate(-26px,0);} 100% { transform: translate(0,0);} }
.banter-loader__box:nth-child(4) { animation: moveBox-4 4s infinite; }
@keyframes moveBox-5 { 36.3636% { transform: translate(26px,0);} 81.8181% { transform: translate(26px,-26px);} 90.909% { transform: translate(0,-26px);} 100% { transform: translate(0,0);} }
.banter-loader__box:nth-child(5) { animation: moveBox-5 4s infinite; }
@keyframes moveBox-6 { 18.1818% { transform: translate(-26px,0);} 72.7272% { transform: translate(0,26px);} 81.8181% { transform: translate(-26px,26px);} 100% { transform: translate(0,0);} }
.banter-loader__box:nth-child(6) { animation: moveBox-6 4s infinite; }
@keyframes moveBox-7 { 36.3636% { transform: translate(0,0);} 45.4545% { transform: translate(0,-26px);} 54.5454% { transform: translate(26px,-26px);} 90.909% { transform: translate(26px,0);} 100% { transform: translate(0,0);} }
.banter-loader__box:nth-child(7) { animation: moveBox-7 4s infinite; }
@keyframes moveBox-8 { 18.1818% { transform: translate(-26px,0);} 27.2727% { transform: translate(-26px,-26px);} 36.3636% { transform: translate(0,-26px);} 90.909% { transform: translate(26px,0);} 100% { transform: translate(0,0);} }
.banter-loader__box:nth-child(8) { animation: moveBox-8 4s infinite; }
@keyframes moveBox-9 { 81.8181% { transform: translate(-52px,0);} 90.909% { transform: translate(-26px,0);} 100% { transform: translate(0,0);} }
.banter-loader__box:nth-child(9) { animation: moveBox-9 4s infinite; }

/* Quick actions */
.quick-actions { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; margin: 14px auto 0; }
.quick-action { display: inline-flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 8px; background: transparent; border: 1px solid var(--border-color); color: var(--text-secondary); cursor: pointer; transition: all .15s ease; font-family: var(--font-geist-sans); font-size: 12px; }
.quick-action:hover { background: var(--hover-bg); color: var(--text-primary); transform: translateY(-2px); }

.hint { margin-top: 10px; text-align: center; color: var(--text-secondary); font-size: 12px; }

/* Results */
.card { border: 1px solid var(--border-subtle); background: rgba(23,23,23,0.6); border-radius: 12px; overflow: hidden; }
[data-theme="light"] .card { background: #fff; }
.card-body { padding: 16px; }
.card--no-border { border: none; background: transparent; }

/* Markdown styling inside answer */
.answer-markdown h2 { font-size: 1.1rem; margin: 8px 0; }
.answer-markdown p { margin: 8px 0; }
.answer-markdown ul { margin: 8px 0; padding-left: 18px; }
.answer-markdown li { margin: 4px 0; }
.sources-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(72px, 1fr)); gap: 8px; }
.source-tile { display: grid; place-items: center; gap: 8px; border: 1px solid var(--border-subtle); border-radius: 10px; padding: 10px; color: var(--text-primary); text-decoration: none; }
.source-tile:hover { background: var(--hover-bg); }
.source-host { max-width: 120px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: var(--text-secondary); font-size: 12px; }

/* Drawer (chat manager) */
.drawer { position: fixed; inset: 0; z-index: 1000; pointer-events: none; }
.drawer.active { pointer-events: auto; }
.drawer-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.45); backdrop-filter: blur(2px); opacity: 0; transition: opacity .2s ease; }
.drawer.active .drawer-backdrop { opacity: 1; }
.drawer-panel { position: fixed; left: 16px; top: 16px; height: calc(100% - 32px); width: min(420px, 92vw); background: var(--background); border: 1px solid var(--border-subtle); display: flex; flex-direction: column; box-shadow: 0 12px 28px rgba(0,0,0,0.25); border-radius: 12px; transform: translateX(-120%); transition: transform .28s cubic-bezier(.2,.8,.2,1); }
.drawer.active .drawer-panel { transform: translateX(0); }
.drawer-header { display: flex; justify-content: space-between; align-items: center; padding: 14px; border-bottom: 1px solid var(--border-subtle); }
.drawer-title { font-weight: 600; color: var(--text-primary); }
.drawer-actions { display: flex; align-items: center; gap: 8px; }
.drawer-btn { background: transparent; border: none; color: var(--text-secondary); border-radius: 6px; padding: 6px 10px; cursor: pointer; }
.drawer-btn:hover { background: var(--hover-bg); color: var(--text-primary); }
.drawer-icon-btn { background: transparent; border: none; color: var(--text-secondary); cursor: pointer; border-radius: 6px; padding: 6px; }
.drawer-icon-btn:hover { background: var(--hover-bg); color: var(--text-primary); }
.drawer-content { padding: 10px; overflow: auto; display: grid; gap: 8px; }
.chat-item { display: grid; grid-template-columns: 1fr auto; gap: 8px; align-items: center; border: 1px solid var(--border-subtle); padding: 10px; border-radius: 10px; }
.chat-item-title { font-weight: 500; color: var(--text-primary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.chat-item-sub { font-size: .75rem; color: var(--text-secondary); }
.chat-item-actions { display: flex; gap: 6px; }
.chat-open, .chat-delete { border: none; background: transparent; color: var(--text-secondary); border-radius: 6px; padding: 6px 10px; cursor: pointer; }
.chat-open:hover, .chat-delete:hover { background: var(--hover-bg); color: var(--text-primary); }

/* Theme switch */
.theme-switch { display: flex; align-items: center; justify-content: center; width: 2rem; height: 2rem; border-radius: 0.375rem; border: 1px solid var(--background); background-color: transparent; color: var(--text-secondary); cursor: pointer; transition: all 0.15s ease; position: relative; overflow: hidden; }
.theme-switch:hover { background-color: var(--hover-bg); }
.theme-icon { width: 1.15rem; height: 1.15rem; stroke: currentColor; fill: none; }
/* Theme icon toggling to avoid overlap */
.theme-icon .sun-circle, .theme-icon .sun-rays { display: none; }
.theme-icon .moon-path { display: block; }
[data-theme="light"] .theme-icon .sun-circle, [data-theme="light"] .theme-icon .sun-rays { display: block; }
[data-theme="light"] .theme-icon .moon-path { display: none; }

/* Spotlight trigger button */
.spotlight-trigger { display: flex; align-items: center; gap: 8px; background-color: transparent; border: none; border-radius: 6px; color: var(--text-secondary); font-family: var(--font-geist-sans); font-size: 12px; padding: 6px 12px; cursor: pointer; transition: all 0.15s ease; }
.spotlight-trigger:hover { background-color: var(--hover-bg); color: var(--text-primary); }
.spotlight-trigger-shortcut { display: flex; align-items: center; gap: 2px; margin-left: 4px; }
.spotlight-trigger-shortcut kbd { font-family: var(--font-geist-mono); font-size: 10px; padding: 1px 4px; border-radius: 3px; background: var(--kbd-background); color: var(--text-secondary); border: 1px solid var(--border-subtle); }

/* Spotlight (command palette) */
.spotlight-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1100; display: none; }
.spotlight-backdrop { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
[data-theme="light"] .spotlight-backdrop { background-color: rgba(0,0,0,0.2); }
.spotlight-modal { position: absolute; top: 20%; left: 50%; transform: translateX(-50%); width: 600px; max-width: 90%; background-color: var(--background); border-radius: 12px; border: 1px solid var(--border-subtle); overflow: hidden; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); opacity: 0; transform: translateX(-50%) translateY(-10px); transition: opacity 0.2s ease, transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
.spotlight-container.active .spotlight-modal { opacity: 1; transform: translateX(-50%) translateY(0); }
.spotlight-search-bar { display: flex; align-items: center; padding: 12px 16px; border-bottom: 1px solid var(--border-subtle); }
.spotlight-search-icon { color: var(--text-secondary); margin-right: 12px; display: flex; align-items: center; }
#spotlight-input { flex: 1; border: none; background: transparent; color: var(--text-primary); font-family: var(--font-geist-sans); font-size: 14px; padding: 8px 0; outline: none; }
#spotlight-input::placeholder { color: var(--text-secondary); opacity: 0.7; }
.spotlight-results { max-height: 400px; overflow-y: auto; scrollbar-width: none; -ms-overflow-style: none; }
.spotlight-section { padding: 8px 0; }
.spotlight-section-header { font-family: var(--font-geist-mono); font-size: 12px; color: var(--text-secondary); padding: 8px 16px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
.spotlight-result-item { display: flex; align-items: center; padding: 8px 16px; cursor: pointer; transition: background-color 0.15s ease; opacity: 0; animation: fadeIn 0.2s ease forwards; }
.spotlight-result-item:hover, .spotlight-result-item.selected { background-color: var(--hover-bg); }
.spotlight-result-icon { display: flex; align-items: center; justify-content: center; width: 24px; height: 24px; margin-right: 12px; color: var(--text-secondary); }
.spotlight-result-content { flex: 1; }
.spotlight-result-title { font-family: var(--font-satoshi); font-size: 14px; color: var(--text-primary); font-weight: 500; }
.spotlight-result-description { font-family: var(--font-geist-mono); font-size: 12px; color: var(--text-secondary); margin-top: 2px; }
.spotlight-no-results { padding: 16px; font-family: var(--font-geist-sans); font-size: 14px; color: var(--text-secondary); text-align: center; }
.spotlight-results::-webkit-scrollbar { display: none; }

/* Keybinds modal */
.keybinds-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1100; display: none; }
.keybinds-backdrop { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
[data-theme="light"] .keybinds-backdrop { background-color: rgba(0,0,0,0.2); }
.keybinds-modal { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9); width: 550px; max-width: 90%; max-height: 90vh; background-color: var(--background); border-radius: 12px; border: 1px solid var(--border-subtle); overflow: hidden; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); opacity: 0; transition: opacity 0.2s ease, transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); display: flex; flex-direction: column; }
.keybinds-container.active .keybinds-modal { opacity: 1; transform: translate(-50%, -50%) scale(1); }
.keybinds-header { display: flex; justify-content: space-between; align-items: center; padding: 16px; border-bottom: 1px solid var(--border-subtle); }
.keybinds-title { font-family: var(--font-satoshi); font-size: 16px; font-weight: 600; color: var(--text-primary); }
.keybinds-close { background: transparent; border: none; padding: 4px; margin: -4px; color: var(--text-secondary); cursor: pointer; border-radius: 4px; transition: background-color 0.15s ease, color 0.15s ease; display: flex; align-items: center; justify-content: center; }
.keybinds-close:hover { background-color: var(--hover-bg); color: var(--text-primary); }
.keybinds-content { padding: 16px; overflow-y: auto; scrollbar-width: none; -ms-overflow-style: none; flex: 1; }
.keybinds-content::-webkit-scrollbar { display: none; }
.keybinds-section { margin-bottom: 24px; }
.keybinds-section-title { font-family: var(--font-geist-mono); font-size: 12px; font-weight: 600; color: var(--text-secondary); margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
.keybind-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; opacity: 0; animation: fadeIn 0.2s ease forwards; }
.keybind-description { font-family: var(--font-satoshi); font-size: 14px; color: var(--text-primary); }
.keybind-combo { display: flex; align-items: center; gap: 4px; }
.keybind-combo kbd { display: inline-flex; align-items: center; justify-content: center; min-width: 22px; height: 22px; padding: 0 6px; font-family: var(--font-geist-mono); font-size: 12px; font-weight: 500; border-radius: 4px; background-color: var(--kbd-background); color: var(--text-primary); border: 1px solid var(--border-color); box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2); }
.keybind-combo span { color: var(--text-secondary); font-size: 12px; font-family: var(--font-geist-mono); }

.keybinds-trigger { display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; background-color: transparent; border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-secondary); cursor: pointer; transition: all 0.15s ease; position: fixed; bottom: 20px; right: 20px; z-index: 90; }
.keybinds-trigger:hover { background-color: var(--hover-bg); color: var(--text-primary); transform: translateY(-2px); }
.keybinds-trigger svg { width: 16px; height: 16px; }

/* Availability badge */
.availability-badge { position: relative; display: inline-flex; align-items: center; justify-content: center; width: 10px; height: 10px; margin-left: 6px; }
.availability-badge .dot { width: 7px; height: 7px; border-radius: 50%; }
.availability-tooltip { position: absolute; top: calc(100% + 8px); right: 0; background-color: var(--background); border: 1px solid var(--border-subtle); color: var(--text-primary); font-family: var(--font-geist-mono); font-size: 0.65rem; padding: 4px 6px; border-radius: 4px; white-space: nowrap; opacity: 0; transform: translateY(-4px); transition: opacity 0.15s ease, transform 0.15s ease; pointer-events: none; box-shadow: 0 4px 10px rgba(0,0,0,0.15); }
.availability-badge:hover .availability-tooltip { opacity: 1; transform: translateY(0); }
.status-dot--available { background-color: #22c55e; animation: dotPulseGreen 2s ease-in-out infinite; }
.status-dot--employed  { background-color: #f59e0b; animation: dotPulseAmber 2s ease-in-out infinite; }
@keyframes dotPulseGreen { 0%, 100% { box-shadow: 0 0 5px rgba(34,197,94,0.6), 0 0 0 0 rgba(34,197,94,0.18); } 50% { box-shadow: 0 0 8px rgba(34,197,94,0.9), 0 0 0 5px rgba(34,197,94,0.10); } }
@keyframes dotPulseAmber { 0%, 100% { box-shadow: 0 0 5px rgba(245,158,11,0.6), 0 0 0 0 rgba(245,158,11,0.18); } 50% { box-shadow: 0 0 8px rgba(245,158,11,0.9), 0 0 0 5px rgba(245,158,11,0.10); } }

/* Animations */
@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }